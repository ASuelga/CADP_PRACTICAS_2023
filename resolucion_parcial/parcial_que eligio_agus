program 15-06-2018;
type
    provincias=1..23;
    estancias=record
        codigoEstancia:integer;
        localidad:string;
        codigoProvincia:provincias;
        cantGanado:integer;
    end;

    lista=^nodo;
    nodo=record
        dato:estancias;
        sig:lista;
    end;

procedure leerEstancia(var e:estancias);
begin
    writeln('Ingrese el codigo de estancia');
    readln(e.codigoEstancia);
    if(e.codigoEstancia<>0) then begin
        writeln('Ingrese la localidad');
        readln(e.localidad);
        writeln('Ingrese el codigo de provincia');
        readln(e.codigoProvincia);
        writeln('Ingrese la cantidad de ganado');
        readln(e.cantGanado);
    end;
end;

procedure inseertarlista(var l:lista; e:estancias);
var
    nue:lista;
begin
    
    new(nue);
    nue^.dato:=e;
    nue^.sig:=l;
    l:=nue;
end;

procedure cargarEstancias(var l:lista);
var
    e:estancias;
begin
    leerEstancia(e);
    while(e.codigoEstancia<>0) do begin
        inseertarlista(l,e);
        leerEstancia(e);
    end;
end;

function buscarEstancia(l:lista):boolean;
begin
    while(l<>nil) and (act^.dato.codigoEstancia<>234) do begin
        l:=l^.sig;
    if(l^.dato.codigoEstancia=234) then 
        buscarEstancia:=true;    
    else 
        buscarEstancia:=false;
end;


procedure maximoGanado(l:lista; var cod1, cod2:integer);
var
    max1, max2:integer;
begin
    max1:=-1;
    max2:=-1;
    if(l^.dato.cantGanado>max1) then begin
        max2:=max1;
        max1:=l^.dato.cantGanado;
        cod2:=cod1;
        cod1:=l^.dato.codigoProvincia;
    end
    else
        if(l^.dato.cantGanado>max2) then begin
            max2:=l^.dato.cantGanado;
            cod2:=l^.dato.codigoProvincia;
        end;
end



//////////////PROGRAMA PRINCIPAL/////////////////////

var
    l:lista;
    cod1, cod2:integer;
begin
    l:=nil;
    cargarestancias(l);
    if(buscarEstancia(l)=true) then begin
        writeln('La estancia 234 se encuentra en la lista');
    end
    else
        writeln('La estancia 234 no se encuentra en la lista');
    maximoGanado(l, cod1, cod2);
        writeln( cod1, ' y ', cod2,' solo porque agus lo quioere');
end.
